<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM263Px MCU+ SDK: PMIC user register configuration example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM263Px MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM263Px MCU+ SDK
   &#160;<span id="projectnumber">11.01.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('EXAMPLES_PMIC_USER_REG_CFG.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">PMIC user register configuration example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md1848">Introduction</a></li>
<li class="level1"><a href="#autotoc_md1849">Introduction</a></li>
<li class="level1"><a href="#EXAMPLES_DRIVERS_PMIC_USER_REG_CFG_COMBOS">Supported Combinations</a></li>
<li class="level1"><a href="#autotoc_md1850">Steps</a></li>
<li class="level1"><a href="#autotoc_md1851">Sample Output Derby PMIC</a></li>
<li class="level1"><a href="#autotoc_md1852">Sample Output Blackbird PMIC</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_examples_drivers_pmic_user_reg_cfg"></a></p>
<h1><a class="anchor" id="autotoc_md1848"></a>
Introduction</h1>
<h1><a class="anchor" id="autotoc_md1849"></a>
Introduction</h1>
<p>The example demonstrates the the configuration of user space registers for various features in the PMIC. The application configures the thermal monitoring, voltage monitoring, GPIO pin, Timer and gets the status. Set/Get/clear IRQ mask and flag Use Pmic_io(Rx/Tx)Byte Api to direct access of register. Refer the PMIC datasheet for more information on the parameters configured. The example passes if the configuration and get status is success.</p>
<h1><a class="anchor" id="EXAMPLES_DRIVERS_PMIC_USER_REG_CFG_COMBOS"></a>
Supported Combinations</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter  </th><th class="markdownTableHeadNone">Value   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone" rowspan="2">CPU + OS  </td><td class="markdownTableBodyNone">r5fss0-0 freertos   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">r5fss0-0 nortos   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Toolchain  </td><td class="markdownTableBodyNone">ti-arm-clang   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Boards  </td><td class="markdownTableBodyNone">am263px-cc   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Example folder  </td><td class="markdownTableBodyNone">examples/drivers/pmic/pmic_user_reg_cfg   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md1850"></a>
Steps</h1>
<ul>
<li><b>When using CCS projects to build</b>, import the CCS project for the required combination and build it using the CCS project menu (see <a class="el" href="CCS_PROJECTS_PAGE.html">Using SDK with CCS Projects</a>).</li>
<li><b>When using makefiles to build</b>, note the required combination and build using make command (see <a class="el" href="MAKEFILE_BUILD_PAGE.html">Using SDK with Makefiles</a>)</li>
<li>Launch a CCS debug session and run the executable, see <a class="el" href="CCS_LAUNCH_PAGE.html">CCS Launch, Load and Run</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md1851"></a>
Sample Output Derby PMIC</h1>
<p>Shown below is a sample output when the application is run, </p><div class="fragment"><div class="line">Starting PMIC user space register configuration example !!</div>
<div class="line"> </div>
<div class="line">Setting BUCK2 configurations...</div>
<div class="line">BUCK2 configurations have been set</div>
<div class="line">Getting actual BUCK2 configurations...</div>
<div class="line">BUCK2 configurations have been obtained</div>
<div class="line">Validating BUCK2 configurations...</div>
<div class="line">BUCK2 configurations have been successfully validated</div>
<div class="line">Setting LDO configurations...</div>
<div class="line">LDO configurations have been set</div>
<div class="line">Getting actual LDO configurations...</div>
<div class="line">LDO configurations have been obtained</div>
<div class="line">Validating LDO configurations...</div>
<div class="line">LDO configurations have been successfully validated</div>
<div class="line">Voltage monitoring status:</div>
<div class="line">BUCK2 Active voltage status: set</div>
<div class="line">BUCK2 over voltage status: cleared</div>
<div class="line">BUCK2 under voltage status: cleared</div>
<div class="line">BUCK2 over voltage protection status: cleared</div>
<div class="line">LDO Active voltage status: set</div>
<div class="line">LDO over voltage status: cleared</div>
<div class="line">LDO under voltage status: cleared</div>
<div class="line">LDO over voltage protection status: cleared</div>
<div class="line">PMIC VMON and BUCK configuration and status report complete</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">Setting thermal shutdown configurations</div>
<div class="line">Thermal shutdown configurations have been set</div>
<div class="line">Getting actual thermal shutdown configurations...</div>
<div class="line">Thermal configurations have been obtained</div>
<div class="line">Validating thermal shutdown configurations...</div>
<div class="line">Thermal configurations have been successfully validated</div>
<div class="line">Thermal monitoring status:</div>
<div class="line">Thermal immediate shutdown bit: 0</div>
<div class="line">PMIC thermal monitoring configuration and get status complete</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">Setting GPIO output state as High...</div>
<div class="line">Getting actual GPIO configurations...</div>
<div class="line">GPIO configurations have been obtained...</div>
<div class="line">Validating GPIO configurations, pin state: High...</div>
<div class="line">GPIO configurations have been successfully validated</div>
<div class="line">GPIO Pin status: High</div>
<div class="line">Setting GPO1 output state as LOW...</div>
<div class="line">Getting actual GPIO configurations...</div>
<div class="line">GPIO configurations have been obtained...</div>
<div class="line">Validating GPIO configurations, pin state: Low...</div>
<div class="line">GPIO configurations have been successfully validated</div>
<div class="line">GPIO Pin status: Low</div>
<div class="line">Setting GPO1 as ESM IN...</div>
<div class="line">Getting actual GPIO configurations...</div>
<div class="line">GPIO configurations have been obtained...</div>
<div class="line">Validating GPIO configurations, pin state: ESM IN...</div>
<div class="line">GPIO configurations have been successfully validated</div>
<div class="line"> </div>
<div class="line">Get status of all IRQ&#39;s...</div>
<div class="line">Clear next IRQ&#39;s if its flag set</div>
<div class="line">Cleared IRQ&#39;s whose flag were set</div>
<div class="line"> </div>
<div class="line">Setting IRQ mask...</div>
<div class="line">Validating IRQ mask status...</div>
<div class="line">IRQ mask have been successfully validated</div>
<div class="line"> </div>
<div class="line">Reading initial value of CUSTOMER_SCRATCH1...</div>
<div class="line">Initial value of CUSTOMER_SCRATCH1: 255</div>
<div class="line">Writing expected value of 0 to CUSTOMER_SCRATCH1...</div>
<div class="line">Write complete</div>
<div class="line">Reading actual value of CUSTOMER_SCRATCH1...</div>
<div class="line">Actual CUSTOMER_SCRATCH1 register value: 0</div>
<div class="line">Direct register write and read successful</div>
<div class="line">PMIC user space register configuration example is successful !!</div>
<div class="line">All tests have passed!!</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1852"></a>
Sample Output Blackbird PMIC</h1>
<p>Shown below is a sample output when the application is run, </p><div class="fragment"><div class="line">Starting PMIC user space register configuration example !!</div>
<div class="line"> </div>
<div class="line">Setting PLDO1 config...</div>
<div class="line">Validating PLDO1 configurations...</div>
<div class="line">PLDO1 configurations have been successfully validated</div>
<div class="line">PLDO voltage, thermal and current limit status</div>
<div class="line">PLDO1 over voltage error status: cleared</div>
<div class="line">PLDO1 under voltage error status: cleared</div>
<div class="line">PLDO1 current limit error status: cleared</div>
<div class="line">PLDO1 Thermal shutdown warning status: cleared</div>
<div class="line">PLDO1 Thermal shutdown error status: cleared</div>
<div class="line"> </div>
<div class="line">Setting LDO2 config...</div>
<div class="line">Validating LDO2 configurations...</div>
<div class="line">LDO2 configurations have been successfully validated</div>
<div class="line">LDO voltage, thermal and current limit status</div>
<div class="line">LDO2 over voltage error status: cleared</div>
<div class="line">LDO2 under voltage error status: cleared</div>
<div class="line">LDO2 current limit error status: cleared</div>
<div class="line">LDO2 Thermal shutdown warning status: cleared</div>
<div class="line">LDO2 Thermal shutdown error status: cleared</div>
<div class="line">PMIC PLDO and LDO configuration and status report complete</div>
<div class="line"> </div>
<div class="line">Setting GPO1 output state as High...</div>
<div class="line">Getting actual GPIO configurations...</div>
<div class="line">GPIO configurations have been obtained...</div>
<div class="line">Validating GPIO configurations, pin state: High...</div>
<div class="line">GPIO configurations have been successfully validated</div>
<div class="line">GPIO Pin status: High</div>
<div class="line">Setting GPO1 output state as LOW...</div>
<div class="line">Getting actual GPIO configurations...</div>
<div class="line">GPIO configurations have been obtained...</div>
<div class="line">Validating GPIO configurations, pin state: Low...</div>
<div class="line">GPIO configurations have been successfully validated</div>
<div class="line">GPIO Pin status: Low</div>
<div class="line">Setting GPO1 as NINT...</div>
<div class="line">Getting actual GPIO configurations...</div>
<div class="line">GPIO configurations have been obtained...</div>
<div class="line">Validating GPIO configurations, pin state: NINT...</div>
<div class="line">GPIO configurations have been successfully validated</div>
<div class="line"> </div>
<div class="line">Setting multiple IRQ mask and configs...</div>
<div class="line">Validating IRQ mask status...</div>
<div class="line">IRQ mask have been successfully validated</div>
<div class="line"> </div>
<div class="line">Get status of all IRQ&#39;s...</div>
<div class="line">Clear next IRQ&#39;s if its flag set</div>
<div class="line">Cleared IRQ&#39;s whose flag were set</div>
<div class="line"> </div>
<div class="line">Setting PMIC timer configurations...</div>
<div class="line">Validating Timer configurations...</div>
<div class="line">Timer configurations have been successfully validated</div>
<div class="line">Adding delay of 3 sec to increment the timer count</div>
<div class="line">Pmic Timer count value : 4</div>
<div class="line"> </div>
<div class="line">Reading initial value of CUSTOMER_SCRATCH1...</div>
<div class="line">Initial value of CUSTOMER_SCRATCH1: 0</div>
<div class="line">Writing expected value of 255 to CUSTOMER_SCRATCH1...</div>
<div class="line">Write complete</div>
<div class="line">Reading actual value of CUSTOMER_SCRATCH1...</div>
<div class="line">Actual CUSTOMER_SCRATCH1 register value: 255</div>
<div class="line">Direct register write and read successful</div>
<div class="line">PMIC user space register configuration example is successful !!</div>
<div class="line">All tests have passed!!</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
