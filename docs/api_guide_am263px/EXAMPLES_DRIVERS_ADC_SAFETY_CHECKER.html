<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM263Px MCU+ SDK: ADC Safety Checker</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM263Px MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM263Px MCU+ SDK
   &#160;<span id="projectnumber">11.01.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('EXAMPLES_DRIVERS_ADC_SAFETY_CHECKER.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ADC Safety Checker </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md1935">Safety Checker module</a></li>
<li class="level1"><a href="#autotoc_md1936">Example Description</a><ul><li class="level2"><a href="#autotoc_md1937">Safety Checker Configurations</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md1938">Watch Variables</a></li>
<li class="level1"><a href="#autotoc_md1939">External Connections</a></li>
<li class="level1"><a href="#EXAMPLES_DRIVERS_ADC_SAFETY_CHECKER_COMBOS">Supported Combinations</a></li>
<li class="level1"><a href="#autotoc_md1940">Steps to Run the Example</a></li>
<li class="level1"><a href="#autotoc_md1941">See Also</a></li>
<li class="level1"><a href="#autotoc_md1942">Sample Output</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_examples_drivers_adc_safety_checker"></a></p>
<h1><a class="anchor" id="autotoc_md1935"></a>
Safety Checker module</h1>
<p>The safety checker module provides the ability to compare ADC conversion results for safety critical application. It is divided into two parts: Safety checker tiles and Safety checker aggregator. Safety checker tile captures conversion results from multiple ADc modules and compares the absolute value of the difference to the configured tolerance. While Safety checker aggregator takes the computed data and genreate a trip event signal if the result is out of range. The trip event can be sent to INT XBAR and an ISR can be triggered.</p>
<p> <style>div.image img[src="ADC_safety_checker_tile.png"]{width:50%}</style> </p><div class="image">
<img src="ADC_safety_checker_tile.png" alt=""/>
<div class="caption">
ADC Safety Checker Tile Diagram</div></div>
<h1><a class="anchor" id="autotoc_md1936"></a>
Example Description</h1>
<p>This example compares the absolute value of the two ADC conversion results with the set tolerance value and generates an out-of-tolerance flag if the difference exceeds the tolerance value. Channel 0 and 1 of ADC1 are used to compare the two ADC conversion. If the difference between two conversion results exceeds the value configured as tolerance then the ADC safety checker aggregator generates an interrupt signal from out-of-tolerance.</p>
<h2><a class="anchor" id="autotoc_md1937"></a>
Safety Checker Configurations</h2>
<ol type="1">
<li>Safety checker tile 1 is configured to compare two ADC channels ADC1_AIN0 and ADC1_AIN1</li>
<li>The tolerance value is set to 100 in digital representation<ul>
<li>If the difference between two ADC channel is &gt; 100, it will generate an interrupt</li>
</ul>
</li>
<li>Safety checker aggregator is configured to generate an interrupt when oot event occures</li>
</ol>
<h1><a class="anchor" id="autotoc_md1938"></a>
Watch Variables</h1>
<ul>
<li>gAdc1Result0[], gAdc1Result1[] - the digital representation of the Analog signal on ADC1_AIN0 and ADC1_AIN1.</li>
<li>count - the number of times the OOT flag is generated.</li>
</ul>
<h1><a class="anchor" id="autotoc_md1939"></a>
External Connections</h1>
<p>ADC1_AIN0, ADC1_AIN1 pins should be connected to signals to be converted</p><ul>
<li>on AM263Px CC E1 or AM261x SOM E1, with HSEC Dock<ul>
<li>Feed Analog input to ADC1_AIN0 - HSEC PIN 12</li>
<li>Feed Analog input to ADC1_AIN1 - HSEC PIN 14</li>
</ul>
</li>
<li>on AM263Px LP<ul>
<li>Feed Analog input to ADC1_AIN0 - J1/3 Pin 24</li>
<li>Feed Analog input to ADC1_AIN1 - J1/3 Pin 29</li>
</ul>
</li>
<li>on AM261x LP<ul>
<li>Feed Analog input to ADC1_AIN0 - J1/3 Pin 24</li>
<li>Feed Analog input to ADC1_AIN1 - J5/7 Pin 42</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="EXAMPLES_DRIVERS_ADC_SAFETY_CHECKER_COMBOS"></a>
Supported Combinations</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter  </th><th class="markdownTableHeadNone">Value   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CPU + OS  </td><td class="markdownTableBodyNone">r5fss0-0 nortos   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Toolchain  </td><td class="markdownTableBodyNone">ti-arm-clang   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Board  </td><td class="markdownTableBodyNone">am263px-cc, am263px-lp   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Example folder  </td><td class="markdownTableBodyNone">examples/drivers/adc/adc_safety_checker/   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md1940"></a>
Steps to Run the Example</h1>
<ul>
<li><b>When using CCS projects to build</b>, import the CCS project for the required combination and build it using the CCS project menu (see <a class="el" href="CCS_PROJECTS_PAGE.html">Using SDK with CCS Projects</a>).</li>
<li><b>When using makefiles to build</b>, note the required combination and build using make command (see <a class="el" href="MAKEFILE_BUILD_PAGE.html">Using SDK with Makefiles</a>)</li>
<li>Establish connections as mentioned in External Connections section.</li>
<li>Launch a CCS debug session and run the executable, see <a class="el" href="CCS_LAUNCH_PAGE.html">CCS Launch, Load and Run</a></li>
<li>Using the watch variables, view the ADC conversion results.</li>
<li>View the ADC conversion results in UART console logs</li>
</ul>
<h1><a class="anchor" id="autotoc_md1941"></a>
See Also</h1>
<p><a class="el" href="DRIVERS_ADC_PAGE.html">ADC</a></p>
<h1><a class="anchor" id="autotoc_md1942"></a>
Sample Output</h1>
<p>Shown below is a sample output when the application is running,</p>
<div class="fragment"><div class="line">ADC Safety Checker Test Started ...</div>
<div class="line">ADC 1 Channel 0     ADC 1 Channel 1     Safety Check OOT Flag</div>
<div class="line">    4095                0                   1</div>
<div class="line">    4095                0                   1</div>
<div class="line">    4095                0                   1</div>
<div class="line">    4095                0                   1</div>
<div class="line">    4095                0                   1</div>
<div class="line">    4095                0                   1</div>
<div class="line">    4095                0                   1</div>
<div class="line">    4095                0                   1</div>
<div class="line">    4095                0                   1</div>
<div class="line">    4095                0                   1</div>
<div class="line">ADC OOT Flag Count 10</div>
<div class="line">ADC Safety Checker Test Passed!!</div>
<div class="line">All tests have passed!!</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
