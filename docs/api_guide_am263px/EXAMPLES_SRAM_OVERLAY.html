<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM263Px MCU+ SDK: Sram Overlay Benchmark</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM263Px MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM263Px MCU+ SDK
   &#160;<span id="projectnumber">11.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('EXAMPLES_SRAM_OVERLAY.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Sram Overlay Benchmark </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#EXAMPLES_SRAM_OVERLAY_COMBOS">Supported Combinations</a></li>
<li class="level1"><a href="#autotoc_md3716">Introduction</a><ul><li class="level2"><a href="#autotoc_md3717">Performance optimization for overlay</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md3718">Steps to Run the Example</a><ul><li class="level2"><a href="#autotoc_md3719">Building SRAM Overlay application</a></li>
<li class="level2"><a href="#autotoc_md3720">Running the SRAM Overlay application</a></li>
<li class="level2"><a href="#autotoc_md3721">Sample output for SRAM Overlay example</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_examples_benchmarks_benchmark_sram_overlay"></a></p>
<h1><a class="anchor" id="EXAMPLES_SRAM_OVERLAY_COMBOS"></a>
Supported Combinations</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter  </th><th class="markdownTableHeadNone">Value   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CPU + OS  </td><td class="markdownTableBodyNone">r5fss0-0 nortos   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Toolchain  </td><td class="markdownTableBodyNone">ti-arm-clang   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Boards  </td><td class="markdownTableBodyNone">am263px-cc, am263px-lp   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Example folder  </td><td class="markdownTableBodyNone">examples/benchmarks/sram_overlay_benchmark   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md3716"></a>
Introduction</h1>
<ul>
<li>This demo provides a rough measurement of the CPU cycles taken for a given code execution (Measured in CPI) which is located in different memory regions (L2OCRAM and Flash memory) and also shows the performance when utilizing the overlay feature.</li>
<li>The example does the following:<ol type="1">
<li>Initializes the drivers and board</li>
<li>Initializes the cycle counters for counting the CPU cycles.</li>
<li>The triggers the FLC(fast Local Copy) HW to copy the code from flash to RAM.</li>
<li>Three iterations are done one with code executing from ram next from flash(XIP) and third with FLC overlay.</li>
<li>Average cycles for code execution is calculated in example.</li>
</ol>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md3717"></a>
Performance optimization for overlay</h2>
<dl class="section note"><dt>Note</dt><dd>Here, code does not wait for function to be copied entirely in the internal RAM.</dd></dl>
<p>Looking at the sample output shows that, in case, when CPI of a function is less than 5, then, code should wait for function to get copied else it is really not required to wait for copy to complete and execution of the function can be done right away.</p>
<h1><a class="anchor" id="autotoc_md3718"></a>
Steps to Run the Example</h1>
<h2><a class="anchor" id="autotoc_md3719"></a>
Building SRAM Overlay application</h2>
<ul>
<li>When using CCS projects to build, import the CCS project for the required combination and build it using the CCS project menu (see <a class="el" href="CCS_PROJECTS_PAGE.html">Using SDK with CCS Projects</a>).</li>
<li>When using makefiles to build, note the required combination and build using make command (see <a class="el" href="MAKEFILE_BUILD_PAGE.html">Using SDK with Makefiles</a>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md3720"></a>
Running the SRAM Overlay application</h2>
<p>Flash the application binary to the device, follow the steps mentioned here (see <a class="el" href="GETTING_STARTED_FLASH.html">Flash a Hello World example</a>).</p>
<h2><a class="anchor" id="autotoc_md3721"></a>
Sample output for SRAM Overlay example</h2>
<div class="fragment"><div class="line">Starting OSPI Bootloader ... </div>
<div class="line">KPI_DATA: [BOOTLOADER_PROFILE] Boot Media       : NOR SPI FLASH </div>
<div class="line">KPI_DATA: [BOOTLOADER_PROFILE] Boot Media Clock : 133.333 MHz </div>
<div class="line">KPI_DATA: [BOOTLOADER_PROFILE] Boot Image Size  : 98 KB </div>
<div class="line">KPI_DATA: [BOOTLOADER_PROFILE] Cores present    : </div>
<div class="line">r5f0-0</div>
<div class="line">KPI_DATA: [BOOTLOADER PROFILE] System_init                      :        541us </div>
<div class="line">KPI_DATA: [BOOTLOADER PROFILE] Drivers_open                     :        126us </div>
<div class="line">KPI_DATA: [BOOTLOADER PROFILE] LoadHsmRtFw                      :       9373us </div>
<div class="line">KPI_DATA: [BOOTLOADER PROFILE] Board_driversOpen                :       2751us </div>
<div class="line">KPI_DATA: [BOOTLOADER PROFILE] CPU load                         :       5308us </div>
<div class="line">KPI_DATA: [BOOTLOADER PROFILE] SBL End                          :         20us </div>
<div class="line">KPI_DATA: [BOOTLOADER_PROFILE] SBL Total Time Taken             :      18123us </div>
<div class="line"> </div>
<div class="line">Image loading done, switching to application ...</div>
<div class="line"> </div>
<div class="line">Test started</div>
<div class="line">Label          :CPU Cycles     CPU Instr.     CPI</div>
<div class="line">T1 SRAM        :74444          9962           7.5 </div>
<div class="line">T1 XIP         :142542         10097          14.1 </div>
<div class="line">T1 OVL         :75501          10031          7.5 </div>
<div class="line"> </div>
<div class="line">T2 SRAM        :40882          6634           6.2 </div>
<div class="line">T2 XIP         :65101          6634           9.8 </div>
<div class="line">T2 OVL         :42501          6703           6.3 </div>
<div class="line"> </div>
<div class="line">T3 SRAM        :26013          5354           4.9 </div>
<div class="line">T3 XIP         :25910          5354           4.8 </div>
<div class="line">T3 OVL         :36757          5423           6.8 </div>
<div class="line"> </div>
<div class="line">T4 SRAM        :17539          5608           3.1 </div>
<div class="line">T4 XIP         :21282          5608           3.8 </div>
<div class="line">T4 OVL         :50720          5677           8.9 </div>
<div class="line">All tests have passed!!</div>
<div class="line"> </div>
<div class="line">BENCHMARK END</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
