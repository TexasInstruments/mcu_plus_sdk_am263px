<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM263Px MCU+ SDK: ADC DAC Loopback</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM263Px MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM263Px MCU+ SDK
   &#160;<span id="projectnumber">11.01.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('EXAMPLES_DRIVERS_ADC_DAC_LOOPBACK.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ADC DAC Loopback </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md2150">Introduction</a><ul><li class="level2"><a href="#autotoc_md2151">Configurations</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md2152">External Connections</a></li>
<li class="level1"><a href="#autotoc_md2153">Watch Variables</a></li>
<li class="level1"><a href="#EXAMPLES_DRIVERS_ADC_DAC_LOOPBACK_COMBOS">Supported Combinations</a></li>
<li class="level1"><a href="#autotoc_md2154">Steps to Run the Example</a></li>
<li class="level1"><a href="#autotoc_md2155">See Also</a></li>
<li class="level1"><a href="#autotoc_md2156">Sample Output</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_examples_drivers_adc_dac_loopback"></a></p>
<h1><a class="anchor" id="autotoc_md2150"></a>
Introduction</h1>
<p>In AM263Px the DAC can be connected internally to the ADC CAL1 Channel.</p>
<p>This example demostrates the ADC-DAC loopback feature. Each ADC has two CAL channels viz. CAL Channel 0 and CAL Channel 1. these CAL channels are common to all the ADCs. While using the ADC-DAC loopback, the following needs to be taken care of,</p><ol type="1">
<li>ADC cal channel should be of high impedence, i.e., no source driving it.</li>
<li>DAC output should be driven only by DAC and there should not be any other source driving it.</li>
<li>ADC sampling times must be increased in this mode. the example uses the 256 Sample and Hold window configuration. <br  />
</li>
<li>Sampling the DAC voltage with multiple ADCs at the same time will produce inconsistent results. Due to sampling kickback and charge injection. Hence, only one ADC may be used with the given CAL channel at any point of using the DAC-ADC loopback.</li>
</ol>
<h2><a class="anchor" id="autotoc_md2151"></a>
Configurations</h2>
<ul>
<li>DAC is configured using syscfg</li>
<li>ADC SOC0 is configured CAL Channel, with sample and hold window of 256 and generate interrupt at EOC0</li>
</ul>
<h1><a class="anchor" id="autotoc_md2152"></a>
External Connections</h1>
<p>No external connections required</p>
<h1><a class="anchor" id="autotoc_md2153"></a>
Watch Variables</h1>
<p>The below watch variables can be used to view ADC conversion results.</p><ul>
<li>gAdcResults[] : Digital representation of the voltage sample on pin AIN2 of ADC0, triggered by RTI</li>
<li>gDac_shadowValues[] : DAC digital values corresponding to the ADC conversions.</li>
</ul>
<h1><a class="anchor" id="EXAMPLES_DRIVERS_ADC_DAC_LOOPBACK_COMBOS"></a>
Supported Combinations</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter  </th><th class="markdownTableHeadNone">Value   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CPU + OS  </td><td class="markdownTableBodyNone">r5fss0-0 nortos   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Toolchain  </td><td class="markdownTableBodyNone">ti-arm-clang   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Board  </td><td class="markdownTableBodyNone">am263px-cc, am263px-lp   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Example folder  </td><td class="markdownTableBodyNone">examples/drivers/adc/adc_dac_loopback/   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md2154"></a>
Steps to Run the Example</h1>
<ul>
<li><b>When using CCS projects to build</b>, import the CCS project for the required combination and build it using the CCS project menu (see <a class="el" href="CCS_PROJECTS_PAGE.html">Using SDK with CCS Projects</a>).</li>
<li><b>When using makefiles to build</b>, note the required combination and build using make command (see <a class="el" href="MAKEFILE_BUILD_PAGE.html">Using SDK with Makefiles</a>)</li>
<li>Establish connections as mentioned in External Connections section</li>
<li>Launch a CCS debug session and run the executable, see <a class="el" href="CCS_LAUNCH_PAGE.html">CCS Launch, Load and Run</a></li>
<li>Using watch variables, view the ADC conversion results.</li>
<li>View the ADC conversion results in UART console logs</li>
</ul>
<h1><a class="anchor" id="autotoc_md2155"></a>
See Also</h1>
<p><a class="el" href="DRIVERS_ADC_PAGE.html">ADC</a></p>
<h1><a class="anchor" id="autotoc_md2156"></a>
Sample Output</h1>
<p>Shown below is a sample output when the application is run,</p>
<div class="fragment"><div class="line">ADC DAC Loopback Test Started ...</div>
<div class="line">DAC code    |   ADC Result</div>
<div class="line">    100 |   101</div>
<div class="line">---&gt;0.08057V    |   0.07891V</div>
<div class="line">    200 |   202</div>
<div class="line">---&gt;0.16113V    |   0.15781V</div>
<div class="line">    300 |   304</div>
<div class="line">---&gt;0.24170V    |   0.23750V</div>
<div class="line">    400 |   406</div>
<div class="line">---&gt;0.32227V    |   0.31719V</div>
<div class="line">    500 |   508</div>
<div class="line">---&gt;0.40283V    |   0.39687V</div>
<div class="line">    600 |   612</div>
<div class="line">---&gt;0.48340V    |   0.47813V</div>
<div class="line">    700 |   716</div>
<div class="line">---&gt;0.56396V    |   0.55937V</div>
<div class="line">    800 |   819</div>
<div class="line">---&gt;0.64453V    |   0.63984V</div>
<div class="line">    900 |   921</div>
<div class="line">---&gt;0.72510V    |   0.71953V</div>
<div class="line">    1000    |   1024</div>
<div class="line">---&gt;0.80566V    |   0.80000V</div>
<div class="line">    1100    |   1125</div>
<div class="line">---&gt;0.88623V    |   0.87891V</div>
<div class="line">    1200    |   1227</div>
<div class="line">---&gt;0.96680V    |   0.95859V</div>
<div class="line">    1300    |   1328</div>
<div class="line">---&gt;1.04736V    |   1.03750V</div>
<div class="line">    1400    |   1430</div>
<div class="line">---&gt;1.12793V    |   1.11719V</div>
<div class="line">    1500    |   1533</div>
<div class="line">---&gt;1.20850V    |   1.19766V</div>
<div class="line">    1600    |   1636</div>
<div class="line">---&gt;1.28906V    |   1.27813V</div>
<div class="line">    1700    |   1742</div>
<div class="line">---&gt;1.36963V    |   1.36094V</div>
<div class="line">    1800    |   1847</div>
<div class="line">---&gt;1.45020V    |   1.44297V</div>
<div class="line">    1900    |   1954</div>
<div class="line">---&gt;1.53076V    |   1.52656V</div>
<div class="line">    2000    |   2060</div>
<div class="line">---&gt;1.61133V    |   1.60938V</div>
<div class="line">    2100    |   2166</div>
<div class="line">---&gt;1.69189V    |   1.69219V</div>
<div class="line">    2200    |   2269</div>
<div class="line">---&gt;1.77246V    |   1.77266V</div>
<div class="line">    2300    |   2372</div>
<div class="line">---&gt;1.85303V    |   1.85312V</div>
<div class="line">    2400    |   2474</div>
<div class="line">---&gt;1.93359V    |   1.93281V</div>
<div class="line">    2500    |   2577</div>
<div class="line">---&gt;2.01416V    |   2.01328V</div>
<div class="line">    2600    |   2681</div>
<div class="line">---&gt;2.09473V    |   2.09453V</div>
<div class="line">    2700    |   2786</div>
<div class="line">---&gt;2.17529V    |   2.17656V</div>
<div class="line">    2800    |   2890</div>
<div class="line">---&gt;2.25586V    |   2.25781V</div>
<div class="line">    2900    |   2993</div>
<div class="line">---&gt;2.33643V    |   2.33828V</div>
<div class="line">    3000    |   3098</div>
<div class="line">---&gt;2.41699V    |   2.42031V</div>
<div class="line">    3100    |   3201</div>
<div class="line">---&gt;2.49756V    |   2.50078V</div>
<div class="line">    3200    |   3301</div>
<div class="line">---&gt;2.57812V    |   2.57891V</div>
<div class="line">    3300    |   3401</div>
<div class="line">---&gt;2.65869V    |   2.65703V</div>
<div class="line">    3400    |   3502</div>
<div class="line">---&gt;2.73926V    |   2.73594V</div>
<div class="line">    3500    |   3603</div>
<div class="line">---&gt;2.81982V    |   2.81484V</div>
<div class="line">    3600    |   3705</div>
<div class="line">---&gt;2.90039V    |   2.89453V</div>
<div class="line">    3700    |   3809</div>
<div class="line">---&gt;2.98096V    |   2.97578V</div>
<div class="line">    3800    |   3915</div>
<div class="line">---&gt;3.06152V    |   3.05859V</div>
<div class="line">    3900    |   4019</div>
<div class="line">---&gt;3.14209V    |   3.13984V</div>
<div class="line">ADC DAC loopback Test Passed</div>
<div class="line">All tests have passed!!</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
